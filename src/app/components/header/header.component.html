<header class="site-header">
  <nav class="nav-container">
    <a routerLink="/" class="brand" (click)="closeMenu()">
      <span class="brand-icon">ðŸŽ‰</span>
      <span class="brand-text">Community Events</span>
    </a>

    <!-- Mobile Menu Toggle -->
    <button
      class="mobile-menu-toggle"
      (click)="toggleMenu()"
      [attr.aria-expanded]="isMenuOpen"
      aria-label="Toggle menu"
    >
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <!-- Navigation Links -->
    <ul class="nav-links" [class.mobile-open]="isMenuOpen">
      <li>
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMenu()"
          >Home</a
        >
      </li>
      <li>
        <a routerLink="/events" routerLinkActive="active" (click)="closeMenu()"
          >Events</a
        >
      </li>
      <li>
        <a
          routerLink="/communities"
          routerLinkActive="active"
          (click)="closeMenu()"
          >Communities</a
        >
      </li>

      <!-- Guest Links -->
      <ng-container *ngIf="!currentUser">
        <li>
          <a routerLink="/login" routerLinkActive="active" (click)="closeMenu()"
            >Login</a
          >
        </li>
        <li>
          <a
            routerLink="/signup"
            routerLinkActive="active"
            class="btn-signup"
            (click)="closeMenu()"
            >Sign Up</a
          >
        </li>
      </ng-container>

      <!-- Authenticated User Links -->
      <ng-container *ngIf="currentUser">
        <li>
          <a
            routerLink="/events/create"
            routerLinkActive="active"
            (click)="closeMenu()"
            >Create Event</a
          >
        </li>
        <li>
          <a
            routerLink="/communities/create"
            routerLinkActive="active"
            (click)="closeMenu()"
            >Create Community</a
          >
        </li>
        <li>
          <a
            routerLink="/profile"
            routerLinkActive="active"
            (click)="closeMenu()"
          >
            <span class="user-avatar">{{
              currentUser.fullName.charAt(0).toUpperCase()
            }}</span>
            Profile
          </a>
        </li>

        <!-- Admin Link (only for admin users) -->
        <li *ngIf="currentUser.role === 'admin'">
          <a
            routerLink="/admin/dashboard"
            routerLinkActive="active"
            (click)="closeMenu()"
          >
            <span class="admin-badge">Admin</span>
          </a>
        </li>

        <li><button class="btn-logout" (click)="logout()">Logout</button></li>
      </ng-container>
    </ul>
  </nav>
</header>
